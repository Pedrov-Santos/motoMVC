<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">


<head>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset-UTF-8"/>
<meta name="viewport" content="width=device-width"/>
<title>Agencia</title>
<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >
 

</head>

<body>
	<div class="container-fluid">
		<nav class="navbar navbar-dark bg-dark">
			<a class="navbar-brand" href="/moto">
			<img src="/imagens/moto.png" width="210" height="40"></a>
		</nav>
	</div>
<div class="card">
		
			<div class="clearfix">
				<h5 class="card-title botao-pesquisa">Motos Cadastradas</h5>
				<a class="btn btn-link botao-novo" href="/moto">
					<button type="button" class="btn btn-outline-primary">Nova
						Moto</button>
				</a> <img src="/imagens/moto3.png" width="20" height="20" id="icone">
			</div>
			
</div>			
			
			<div class="card-body">
				<div id="tabela">
					<table class="table table-striped table table-bordered">
						<thead>
							<tr>
								<th class="text-center" width="10%">#</th>
								<th>Modelo</th>
								<th class="text-right" width="10%">Ano</th>
								<th class="text-center" width="15%">Valor de Venda</th>
								<th class="text-right" width="10%">Status</th>
								<th width="15%"></th>
						
							</tr>
						</thead>
						<tbody>
							<tr th:each=" veiculo : ${motos}">
								<td class = "text-center" th:text= "${veiculo.codigo}"></td>
								<td th:text="${veiculo.modelo}"></td>
								<td class="text-right" th:text="${veiculo.ano.ano}"></td>
								<td class="text-center"  th:text="|R$ ${{veiculo.valorVenda}}|"></td>
								<td class="text-right" th:attr="data-role=${veiculo.codigo}" >
								<button type="button" class="btn btn-sm" th:text="${veiculo.status.descricao}"th:classappend="${#strings.toString(veiculo.status) == 'VENDIDA' ? 'btn-success' : 'btn-danger'}"></button></td>
								<td class="text-center">
									<a class = "btn btn-link btn-xs" title="Editar" rel="tooltip" data-placement="top" th:href="@{/motoEdicao/{codigo}(codigo=${veiculo.codigo})}" > 
									<span  ><img src="/imagens/editar.png" width="25" height="25" id="icone-editar"> </span>
									</a>
									
									<a class = "btn btn-link btn-xs" title="Excluir" rel="tooltip" data-placement="top"
									th:href="@{/agencia/delete/{codigo}(codigo=${veiculo.codigo})}"> 
									<span  ><img src="/imagens/excluir.png" width="25" height="25" id="icone-editar"> </span>
									</a>
									
								</td>
								
								
							</tr>
							<tr>
							
								<td colspan="6" th:if="${#lists.isEmpty(motos)}">Nenhum veiculo foi encontrado!</td>
							</tr>
						</tbody>
					</table>
							<div> <button type="button" class="btn btn-secondary btn-lg btn-block">
							
							
							<a>Patrimonio total da AgÃªncia  </a>
							 <a th:text="${#numbers.formatCurrency(#aggregates.sum(motos.![valorVenda]))}"></a>
					<td colspan="6" th:if="${#lists.isEmpty(motos)}">0 (Nenhum veiculo cadastrado.)</td>
											</button>			
							</div>
				</div>
						
			</div>
	



	<script src="/js/motos.js"></script>
	<script src="/js/jquery-3.4.1.min.js"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/jquery.maskMoney.min.js}"></script>
	<script src="/js/editar.js"></script>
	
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>

	
</body>
</html>